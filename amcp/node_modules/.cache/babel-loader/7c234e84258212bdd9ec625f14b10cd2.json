{"ast":null,"code":"var _jsxFileName = \"/Users/takumifukuo/go/src/github.com/joryulife/AutoMediaCheckPointWeb/amcp/src/record.tsx\";\nimport * as React from 'react';\nimport Button from '@mui/material/Button';\nimport Stack from '@mui/material/Stack';\nimport Box from '@mui/material/Box';\nimport Table from '@mui/material/Table';\nimport TableBody from '@mui/material/TableBody';\nimport TableCell from '@mui/material/TableCell';\nimport TableContainer from '@mui/material/TableContainer';\nimport TableHead from '@mui/material/TableHead';\nimport TableRow from '@mui/material/TableRow';\nimport Paper from '@mui/material/Paper';\nimport TextField from '@mui/material/TextField';\n\nfunction toTime(t) {\n  let mod = t % 3600;\n  let h = (t - mod) / 3600;\n  mod = (t - h * 3600) % 60;\n  let m = (t - h * 3600 - mod) / 60;\n  let s = t - h * 3600 - m * 60;\n  let sh, sm, ss;\n\n  if (h < 10) {\n    sh = \"0\" + h.toString();\n  } else {\n    sh = h.toString();\n  }\n\n  if (m < 10) {\n    sm = \"0\" + m.toString();\n  } else {\n    sm = m.toString();\n  }\n\n  if (s < 10) {\n    ss = \"0\" + s.toFixed(0);\n  } else {\n    ss = s.toFixed(0);\n  }\n\n  let timeString = sh + \":\" + sm + \":\" + ss;\n  return timeString;\n}\n\nexport default function ContainedButtons(props) {\n  const [recordState, setState] = React.useState({\n    start: false,\n    break: true,\n    stamp: true,\n    stop: true,\n    save: true\n  });\n  const [date, setDate] = React.useState({\n    t: new Date()\n  });\n  let timeArray = [];\n  let flagArray = [];\n  const [timestamp, setStamp] = React.useState({\n    time: timeArray,\n    flag: flagArray\n  });\n  const [filenameState, setFilename] = React.useState({\n    filename: \"\",\n    setName: false\n  });\n\n  const handleChange = event => {\n    setFilename({ ...filenameState,\n      filename: event.target.value\n    });\n  };\n\n  const requestOptionsTIMESTAMP = {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      \"filename\": filenameState.filename,\n      \"timeArray\": timestamp.time,\n      \"flagArray\": timestamp.flag\n    })\n  };\n  return /*#__PURE__*/React.createElement(Box, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    component: \"form\",\n    sx: {\n      '& > :not(style)': {\n        m: 1,\n        width: '50ch'\n      }\n    },\n    noValidate: true,\n    autoComplete: \"off\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    id: \"outlined-basic\",\n    label: \"\\u4FDD\\u5B58\\u3059\\u308B\\u30D5\\u30A1\\u30A4\\u30EB\\u540D\\u3092\\u6307\\u5B9A\\u3057\\u3066\\u304F\\u3060\\u3055\\u3044\\u3002(\\u62E1\\u5F35\\u5B50\\u306F\\u4E0D\\u8981)\",\n    variant: \"outlined\",\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    onClick: () => {\n      console.log(filenameState.filename);\n      setFilename({ ...filenameState,\n        setName: true\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 17\n    }\n  }, \"FileSet\")), /*#__PURE__*/React.createElement(Stack, {\n    direction: \"row\",\n    spacing: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    onClick: () => {\n      let copyList = [...timestamp.time];\n      let copyListF = [...timestamp.flag];\n\n      if (copyList.length === 0) {\n        copyList.push(0);\n        copyListF.push(true);\n      } else {\n        let tl = timestamp.time.length;\n        let nt = new Date();\n        let ott = date.t.getTime();\n        let ntt = nt.getTime();\n        copyList.push(timestamp.time[tl - 1] + (ntt - ott) / 1000);\n        copyListF.push(true);\n      }\n\n      setState({ ...recordState,\n        start: true,\n        break: false,\n        stamp: false,\n        stop: false,\n        save: true\n      });\n      setStamp({ ...timestamp,\n        time: copyList,\n        flag: copyListF\n      });\n      setDate({ ...date,\n        t: new Date()\n      });\n    },\n    disabled: recordState.start,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 17\n    }\n  }, \"\\u30B9\\u30BF\\u30FC\\u30C8\"), /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    onClick: () => {\n      let copyList = [...timestamp.time];\n      let copyListF = [...timestamp.flag];\n      let tl = timestamp.time.length;\n      let nt = new Date();\n      let ott = date.t.getTime();\n      let ntt = nt.getTime();\n      copyList.push(timestamp.time[tl - 1] + (ntt - ott) / 1000);\n      copyListF.push(false);\n      setState({ ...recordState,\n        start: false,\n        break: true,\n        stamp: true,\n        stop: true,\n        save: true\n      });\n      setDate({ ...date,\n        t: new Date()\n      });\n      setStamp({ ...timestamp,\n        time: copyList,\n        flag: copyListF\n      });\n      setDate({ ...date,\n        t: new Date()\n      });\n    },\n    disabled: recordState.break,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 17\n    }\n  }, \"\\u4E00\\u6642\\u4E2D\\u65AD\"), /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    onClick: () => {\n      let copyList = [...timestamp.time];\n      let copyListF = [...timestamp.flag];\n      let tl = timestamp.time.length;\n      let nt = new Date();\n      let ott = date.t.getTime();\n      let ntt = nt.getTime();\n      copyList.push(timestamp.time[tl - 1] + (ntt - ott) / 1000);\n      copyListF.push(true);\n      setState({ ...recordState,\n        start: true,\n        break: false,\n        stamp: false,\n        stop: false,\n        save: true\n      });\n      setStamp({ ...timestamp,\n        time: copyList,\n        flag: copyListF\n      });\n      setDate({ ...date,\n        t: new Date()\n      });\n    },\n    disabled: recordState.stamp,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 17\n    }\n  }, \"\\u30BF\\u30A4\\u30E0\\u30B9\\u30BF\\u30F3\\u30D7\"), /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    onClick: () => {\n      setState({ ...recordState,\n        start: true,\n        break: true,\n        stamp: true,\n        stop: true,\n        save: false\n      });\n    },\n    disabled: recordState.stop,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 17\n    }\n  }, \"\\u505C\\u6B62\"), /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    onClick: () => {\n      console.log(props.id);\n      var url = 'http://localhost:8080/SAVESTAMP?' + props.id;\n      console.log(url);\n      fetch(url, requestOptionsTIMESTAMP).then(response => response.json()).then(responseJson => {\n        console.log(responseJson);\n      }).catch(e => {\n        console.log(e);\n      });\n\n      if (filenameState.setName) {\n        setState({ ...recordState,\n          start: false,\n          break: true,\n          stamp: true,\n          stop: true,\n          save: true\n        });\n      }\n    },\n    disabled: recordState.save,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 17\n    }\n  }, \"\\u4FDD\\u5B58\"), /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    onClick: () => {\n      let copyList = [];\n      setState({ ...recordState,\n        start: false,\n        break: true,\n        stamp: true,\n        stop: true,\n        save: true\n      });\n      setStamp({ ...timestamp,\n        time: copyList\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 17\n    }\n  }, \"\\u30EA\\u30BB\\u30C3\\u30C8\\u203B\\u8A18\\u9332\\u306F\\u7834\\u68C4\\u3055\\u308C\\u307E\\u3059\")), /*#__PURE__*/React.createElement(TableContainer, {\n    component: Paper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    sx: {\n      minWidth: 650\n    },\n    \"aria-label\": \"simple table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(TableHead, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(TableRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 29\n    }\n  }, \"\\u6642\\u523B\"), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 29\n    }\n  }, \"\\u30D5\\u30E9\\u30B0\"), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 29\n    }\n  }, \"\\u533A\\u9593\\u6642\\u9593\"))), /*#__PURE__*/React.createElement(TableBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 21\n    }\n  }, timestamp.time.map((item, index) => {\n    let interval = timestamp.time[index + 1] - item;\n\n    if (timestamp.flag[index]) {\n      return /*#__PURE__*/React.createElement(TableRow, {\n        key: index,\n        sx: {\n          '&:last-child td, &:last-child th': {\n            border: 0\n          }\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(TableCell, {\n        component: \"th\",\n        scope: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 41\n        }\n      }, toTime(item), \"~\"), /*#__PURE__*/React.createElement(TableCell, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 41\n        }\n      }, \"\\u89E3\\u6790\\u533A\\u9593\"), /*#__PURE__*/React.createElement(TableCell, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 41\n        }\n      }, toTime(interval)));\n    } else {\n      return /*#__PURE__*/React.createElement(TableRow, {\n        key: index,\n        sx: {\n          '&:last-child td, &:last-child th': {\n            border: 0\n          }\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(TableCell, {\n        component: \"th\",\n        scope: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 41\n        }\n      }, toTime(item), \"~\"), /*#__PURE__*/React.createElement(TableCell, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 41\n        }\n      }, \"\\u4E2D\\u65AD\\u533A\\u9593\"), /*#__PURE__*/React.createElement(TableCell, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 41\n        }\n      }, toTime(interval)));\n    }\n  })))));\n}","map":{"version":3,"sources":["/Users/takumifukuo/go/src/github.com/joryulife/AutoMediaCheckPointWeb/amcp/src/record.tsx"],"names":["React","Button","Stack","Box","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","TextField","toTime","t","mod","h","m","s","sh","sm","ss","toString","toFixed","timeString","ContainedButtons","props","recordState","setState","useState","start","break","stamp","stop","save","date","setDate","Date","timeArray","flagArray","timestamp","setStamp","time","flag","filenameState","setFilename","filename","setName","handleChange","event","target","value","requestOptionsTIMESTAMP","method","headers","body","JSON","stringify","width","console","log","copyList","copyListF","length","push","tl","nt","ott","getTime","ntt","id","url","fetch","then","response","json","responseJson","catch","e","minWidth","map","item","index","interval","border"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport Button from '@mui/material/Button';\nimport Stack from '@mui/material/Stack';\nimport Box from '@mui/material/Box';\nimport Table from '@mui/material/Table';\nimport TableBody from '@mui/material/TableBody';\nimport TableCell from '@mui/material/TableCell';\nimport TableContainer from '@mui/material/TableContainer';\nimport TableHead from '@mui/material/TableHead';\nimport TableRow from '@mui/material/TableRow';\nimport Paper from '@mui/material/Paper';\nimport TextField from '@mui/material/TextField';\n\nfunction toTime(t : number){\n    let mod = t%3600;\n    let h = (t-mod)/3600;\n    mod = (t-h*3600)%60;\n    let m = (t-h*3600-mod)/60;\n    let s = (t-h*3600-m*60);\n    let sh,sm,ss;\n    if(h<10){\n        sh = \"0\" + h.toString();\n    }else{\n        sh = h.toString();\n    }\n    if(m<10){\n        sm = \"0\" + m.toString();\n    }else{\n        sm = m.toString();\n    }\n    if(s<10){\n        ss = \"0\" + s.toFixed(0);\n    }else{\n        ss = s.toFixed(0);\n    }\n    let timeString = sh+\":\"+sm+\":\"+ss;\n    return timeString;\n}\n\nexport default function ContainedButtons(props:any) {\n    const [recordState, setState] = React.useState({\n        start: false,\n        break: true,\n        stamp: true,\n        stop:  true,\n        save:  true\n    });\n    const [date,setDate] = React.useState({\n        t: new Date()\n    });\n    let timeArray: number[] = [];\n    let flagArray: boolean[] = [];\n    const [timestamp, setStamp] = React.useState({\n        time : timeArray,\n        flag : flagArray\n    });\n    const [filenameState,setFilename] = React.useState({\n        filename: \"\",\n        setName: false\n    })\n    const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n        setFilename({\n            ...filenameState,\n            filename: event.target.value\n        });\n    };\n    const requestOptionsTIMESTAMP ={\n        method: 'POST',\n        headers:{'Content-Type': 'application/json'},\n        body: JSON.stringify({\"filename\":filenameState.filename,\"timeArray\":timestamp.time,\"flagArray\":timestamp.flag})\n    };\n\n    return (\n        <Box>\n            <Box\n                component=\"form\"\n                sx={{\n                    '& > :not(style)': { m: 1, width: '50ch' },\n                }}\n                noValidate\n                autoComplete=\"off\"\n                >\n                <TextField \n                    id=\"outlined-basic\" \n                    label=\"保存するファイル名を指定してください。(拡張子は不要)\" \n                    variant=\"outlined\" \n                    onChange={handleChange}\n                />\n                <Button\n                    variant=\"contained\"\n                    onClick={()=>{\n                        console.log(filenameState.filename);\n                        setFilename({\n                            ...filenameState,\n                            setName: true\n                        })\n                    }}\n                >\n                    FileSet\n                </Button>\n            </Box>\n            <Stack direction=\"row\" spacing={2}>\n                <Button \n                    variant=\"contained\"\n                    onClick={()=>{\n                        let copyList = [...timestamp.time];\n                        let copyListF = [...timestamp.flag];\n                        if(copyList.length === 0){\n                            copyList.push(0);\n                            copyListF.push(true);\n                        }else{\n                            let tl = timestamp.time.length;\n                            let nt = new Date();\n                            let ott = date.t.getTime();\n                            let ntt = nt.getTime();\n                            copyList.push((timestamp.time[tl-1] + (ntt-ott)/1000));\n                            copyListF.push(true);\n                        }\n                        setState({\n                            ...recordState,\n                            start: true,\n                            break: false,\n                            stamp: false,\n                            stop:  false,\n                            save:  true\n                        });\n                        setStamp({\n                            ...timestamp,\n                            time : copyList,\n                            flag : copyListF\n                        })\n                        setDate({\n                            ...date,\n                            t : new Date()\n                        })\n                    }}\n                    disabled={recordState.start}\n                >\n                    スタート\n                </Button>\n                <Button\n                    variant=\"contained\"\n\n                    onClick={()=>{\n                        let copyList = [...timestamp.time];\n                        let copyListF = [...timestamp.flag];\n                        let tl = timestamp.time.length;\n                        let nt = new Date();\n                        let ott = date.t.getTime();\n                        let ntt = nt.getTime();\n                        copyList.push((timestamp.time[tl-1] + (ntt-ott)/1000));\n                        copyListF.push(false);\n                        setState({\n                            ...recordState,\n                            start: false,\n                            break: true,\n                            stamp: true,\n                            stop:  true,\n                            save:  true\n                        });\n                        setDate({\n                            ...date,\n                            t: new Date()\n                        })\n                        setStamp({\n                            ...timestamp,\n                            time : copyList,\n                            flag : copyListF\n                        })\n                        setDate({\n                            ...date,\n                            t : new Date()\n                        })\n                    }}\n                    disabled={recordState.break}\n                >\n                    一時中断\n                </Button>\n                <Button\n                    variant=\"contained\"\n                    onClick={()=>{\n                        let copyList = [...timestamp.time];\n                        let copyListF = [...timestamp.flag];\n                        let tl = timestamp.time.length;\n                        let nt = new Date();\n                        let ott = date.t.getTime();\n                        let ntt = nt.getTime();\n                        copyList.push((timestamp.time[tl-1] + (ntt-ott)/1000));\n                        copyListF.push(true);\n                        setState({\n                            ...recordState,\n                            start: true,\n                            break: false,\n                            stamp: false,\n                            stop:  false,\n                            save:  true\n                        });\n                        setStamp({\n                            ...timestamp,\n                            time : copyList,\n                            flag : copyListF\n                        })\n                        setDate({\n                            ...date,\n                            t : new Date()\n                        })\n                    }}\n                    disabled={recordState.stamp}\n                >\n                    タイムスタンプ\n                </Button>\n                <Button \n                    variant=\"contained\"\n                    onClick={()=>{\n                        setState({\n                            ...recordState,\n                            start: true,\n                            break: true,\n                            stamp: true,\n                            stop:  true,\n                            save:  false\n                        });\n                    }}\n                    disabled={recordState.stop}\n                >\n                    停止\n                </Button>\n                <Button\n                    variant=\"contained\"\n                    onClick={()=>{\n                        console.log(props.id);\n                        var url = 'http://localhost:8080/SAVESTAMP?'+props.id\n                        console.log(url);\n                        fetch(url,requestOptionsTIMESTAMP)\n                        .then((response)=> response.json())\n                        .then((responseJson) =>{\n                        console.log(responseJson)\n                        })\n                        .catch(e=>{\n                            console.log(e);\n                        })\n                        if(filenameState.setName){\n                            setState({\n                                ...recordState,\n                                start: false,\n                                break: true,\n                                stamp: true,\n                                stop:  true,\n                                save:  true\n                            });\n                        }\n\n                    }}\n                    disabled={recordState.save}\n                >\n                    保存\n                </Button>\n                <Button \n                    variant=\"contained\"\n                    onClick={()=>{\n                        let copyList : any = [];\n                        setState({\n                            ...recordState,\n                            start: false,\n                            break: true,\n                            stamp: true,\n                            stop:  true,\n                            save:  true\n                        });\n                        setStamp({\n                            ...timestamp,\n                            time : copyList\n                        })\n                    }}\n                >\n                    リセット※記録は破棄されます\n                </Button>\n            </Stack>\n            <TableContainer component={Paper}>\n                <Table sx={{ minWidth: 650 }} aria-label=\"simple table\">\n                    <TableHead>\n                        <TableRow>\n                            <TableCell>時刻</TableCell>\n                            <TableCell >フラグ</TableCell>\n                            <TableCell >区間時間</TableCell>\n                        </TableRow>\n                    </TableHead>\n                    <TableBody>\n                        {timestamp.time.map((item,index) => {\n                            let interval = timestamp.time[index+1]-item;\n                            if(timestamp.flag[index]){\n                                return(\n                                    <TableRow\n                                        key={index}\n                                        sx={{ '&:last-child td, &:last-child th': { border: 0 } }}\n                                    >\n                                        <TableCell component=\"th\" scope=\"row\">\n                                            {toTime(item)}~\n                                        </TableCell>\n                                        <TableCell >解析区間</TableCell>\n                                        <TableCell >{toTime(interval)}</TableCell>\n                                    </TableRow>\n                                )\n                            }else{\n                                return(\n                                    <TableRow\n                                        key={index}\n                                        sx={{ '&:last-child td, &:last-child th': { border: 0 } }}\n                                    >\n                                        <TableCell component=\"th\" scope=\"row\">\n                                            {toTime(item)}~\n                                        </TableCell>\n                                        <TableCell >中断区間</TableCell>\n                                        <TableCell >{toTime(interval)}</TableCell>\n                                    </TableRow>\n                                )\n                            }\n                            \n                        })}\n                    </TableBody>\n                </Table>\n            </TableContainer>\n        </Box>\n    );\n}"]},"metadata":{},"sourceType":"module"}